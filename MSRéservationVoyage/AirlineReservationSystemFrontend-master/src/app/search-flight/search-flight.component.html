<app-loader></app-loader>
<div class="container mt-50">
    <div class="card">
        <div class="card-header">
            <h4>Réservez votre Vol</h4>
        </div>
        <div class="card-body">
            <form [formGroup]="searchFlightForm">
                <div class="form-group row">
                    <label for="fromDeparture" class="col-sm-3 col-form-label form-label">De :</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" id="fromDeparture" formControlName="departureCity"
                            placeholder="Entrez la ville de départ" list="fromList" autocomplete="off"
                            (keyup)="getDepartureRoutesOnPage()" (focusout)="getArrivalRoutesOnPage()">
                        <datalist id="fromList">
                            <option *ngFor="let departureCityName of departureRoutes" [value]="departureCityName?.departure_city">
                                {{departureCityName?.departure_city}}
                            </option>
                        </datalist>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="toArrival" class="col-sm-3 col-form-label form-label">À :</label>
                    <div class="col-sm-3">
                        <input type="text" class="form-control" id="toArrival" formControlName="arrivalCity"
                            placeholder="Entrez la ville d'arrivée" list="toList" autocomplete="off">
                        <datalist id="toList">
                            <option *ngFor="let arrivalCityName of arrivalRoutes" [value]="arrivalCityName?.arrival_city">
                                {{arrivalCityName?.arrival_city}}
                            </option>
                        </datalist>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="departDate" class="col-sm-3 col-form-label form-label">Date de départ :</label>
                    <div class="input-group col-sm-3">
                        <input class="form-control" placeholder="aaaa-mm-jj" name="dp1" ngbDatepicker
                            #d1="ngbDatepicker" id="departDate" formControlName="departDate" autocomplete="off">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="d1.toggle()" type="button">
                                <fa-icon [icon]="faCalendarAlt"></fa-icon>
                            </button>
                        </div>
                    </div>
                </div>

               <!-- 
                <div class="form-group row">
                    <label class="col-sm-3 col-form-label form-label">Préférence alimentaire :</label>
                    <div class="col-sm-3">
                        <div>
                            <label><input type="radio" formControlName="mealPreference" value="Vegan"> Vegan</label>
                        </div>
                        <div>
                            <label><input type="radio" formControlName="mealPreference" value="Vegetarian"> Végétarien</label>
                        </div>
                        <div>
                            <label><input type="radio" formControlName="mealPreference" value="Non-Vegetarian"> Non-Végétarien</label>
                        </div>
                        <div>
                            <label><input type="radio" formControlName="mealPreference" value="No Preference" checked> Pas de préférence</label>
                        </div>
                    </div>
                </div> -->

                <div class="float-right">
                    <button type="button" class="btn btn-primary" (click)="getFlights()">Rechercher des vols</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="card mt-50 mb-50">
    <div class="card-header">
        <h4>Modifier votre Vol</h4>
    </div>
    <div class="card-body">
        <form [formGroup]="modifyFlightForm">
            <div class="form-group row">
                <label for="bookingNumber" class="col-sm-3 col-form-label text-start">Numéro de référence de réservation :</label>
                <div class="col-sm-3">
                    <input type="text" class="form-control" id="bookingNumber" formControlName="modifyBooking"
                        placeholder="Numéro de référence" autocomplete="off">
                </div>
            </div>
            <div class="float-right">
                <button type="button" class="btn btn-primary btn-lg" (click)="getFlightBooking()">Rechercher réservation</button>
            </div>
        </form>
    </div>
    <div class="flight-name booked" *ngIf="booking?.length === 0">
        <span><strong>Réservation non trouvée</strong></span>
    </div>
</div>